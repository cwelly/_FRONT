{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { mapMutations } from \"vuex\";\nimport http from \"@/api/http-common\";\nconst mapStore = \"mapStore\";\nexport default {\n  data() {\n    return {\n      selectedsido: -1,\n      selectedgugun: -1,\n      selecteddong: -1,\n      sido: [{\n        text: \"시도선택\",\n        value: -1\n      }],\n      gugun: [{\n        text: \"구군선택\",\n        value: -1\n      }],\n      dong: [{\n        text: \"동선택\",\n        value: -1\n      }],\n      searchList: null\n    };\n  },\n  created() {\n    http.get(`/region.do/sido`).then(({\n      data\n    }) => {\n      data.regions.forEach(item => {\n        // console.log(item);\n        let iitem = {\n          text: item.name,\n          value: item.code\n        };\n        this.sido.push(iitem);\n      });\n    });\n  },\n  methods: {\n    ...mapMutations(mapStore, [\"SET_APTLIST\"]),\n    // 동별 검색\n    gosearchdong() {\n      if (this.selecteddong == -1 || this.selectedgugun == -1 || this.selectedsido == -1) {\n        alert(\"시,군,동 을 전부 입력해주세요\");\n      } else {\n        let paradong = null;\n        this.dong.forEach(element => {\n          if (element.value == this.selecteddong) {\n            paradong = element.text;\n          }\n        });\n        http.get(`/map.do/searchDong/${paradong}`).then(({\n          data\n        }) => {\n          console.log(data);\n          this.SET_APTLIST(data.aptList);\n        });\n      }\n    }\n  },\n  computed: {},\n  watch: {\n    // 시도 변경될때\n    selectedsido: function () {\n      if (this.selectedsido != -1) {\n        this.gugun = [{\n          text: \"구군선택\",\n          value: -1\n        }];\n        http.get(`/region.do/gugun/${this.selectedsido}`).then(({\n          data\n        }) => {\n          data.regions.forEach(item1 => {\n            let iitem1 = {\n              text: item1.name,\n              value: item1.code\n            };\n            this.gugun.push(iitem1);\n          });\n        });\n        this.dong = [{\n          text: \"동선택\",\n          value: -1\n        }];\n        this.selectedgugun = -1;\n        this.selecteddong = -1;\n      } else {\n        this.gugun = [{\n          text: \"구군선택\",\n          value: -1\n        }];\n        this.dong = [{\n          text: \"동선택\",\n          value: -1\n        }];\n        this.selectedgugun = -1;\n        this.selecteddong = -1;\n      }\n    },\n    // 군 병경될때\n    selectedgugun: function () {\n      this.dong = [{\n        text: \"동선택\",\n        value: -1\n      }];\n      http.get(`/region.do/dong/${this.selectedgugun}`).then(({\n        data\n      }) => {\n        data.regions.forEach(item2 => {\n          let iitem2 = {\n            text: item2.name,\n            value: item2.code\n          };\n          this.dong.push(iitem2);\n        });\n      });\n      this.selecteddong = -1;\n    }\n  }\n};","map":{"version":3,"mappings":";AAaA;AACA;AACA;AAEA;EACAA;IACA;MACAC;MACAC;MACAC;MACAC;QACAC;QAAAC;MACA;MACAC;QACAF;QAAAC;MACA;MACAE;QACAH;QAAAC;MACA;MACAG;IACA;EACA;EACAC;IACAC;MAAAX;IAAA;MACAA;QACA;QACA;UAAAK;UAAAC;QAAA;QACA;MACA;IACA;EACA;EACAM;IACA;IACA;IACAC;MACA;QACAC;MACA,OACA;QACA;QACA;UACA;YACAC;UACA;QACA;QACAJ;UAAAX;QAAA;UACAgB;UACA;QACA;MACA;IACA;EACA;EACAC,WAEA;EACAC;IACA;IACAjB;MACA;QACA;UACAI;UAAAC;QACA;QACAK;UAAAX;QAAA;UACAA;YACA;cAAAK;cAAAC;YAAA;YACA;UACA;QACA;QACA;UACAD;UAAAC;QACA;QACA;QACA;MACA,OACA;QACA;UACAD;UAAAC;QACA;QACA;UACAD;UAAAC;QACA;QACA;QACA;MACA;IACA;IACA;IACAJ;MACA;QACAG;QAAAC;MACA;MACAK;QAAAX;MAAA;QACAA;UACA;YAAAK;YAAAC;UAAA;UACA;QACA;MACA;MACA;IACA;EACA;AAEA","names":["data","selectedsido","selectedgugun","selecteddong","sido","text","value","gugun","dong","searchList","created","http","methods","gosearchdong","alert","paradong","console","computed","watch"],"sourceRoot":"src/components/map","sources":["MapSearchComponent.vue"],"sourcesContent":["<template>\n  <div align-h=\"center\">\n    <h2>검색 조건들입니다</h2>\n    <b-form inline>\n      <b-form-select id=\"sido\" v-model=\"selectedsido\" :options=\"sido\"></b-form-select>\n      <b-form-select id=\"gugun\" v-model=\"selectedgugun\" :options=\"gugun\"></b-form-select>\n      <b-form-select id=\"dong\" v-model=\"selecteddong\" :options=\"dong\"></b-form-select>\n      <b-button variant=\"primary\" @click=\"gosearchdong\">검색</b-button>\n    </b-form>\n  </div>\n</template>\n\n<script>\nimport { mapMutations } from \"vuex\";\nimport http from \"@/api/http-common\";\nconst mapStore = \"mapStore\";\n\nexport default {\n    data() { \n        return {\n          selectedsido: -1,\n          selectedgugun: -1,\n          selecteddong: -1,\n          sido: [{\n            text: \"시도선택\", value: -1\n          },],\n            gugun:  [{\n            text: \"구군선택\", value: -1\n          },],\n            dong: [{\n            text: \"동선택\", value: -1\n          },],\n          searchList: null,  \n        }\n  },\n  created() {\n    http.get(`/region.do/sido`).then(({ data }) => {\n      data.regions.forEach(item => {\n        // console.log(item);\n        let iitem = { text: item.name, value: item.code };\n        this.sido.push(iitem);\n      });\n    });\n  },\n  methods: {\n    ...mapMutations(mapStore, [\"SET_APTLIST\"]),\n    // 동별 검색\n    gosearchdong() {\n      if (this.selecteddong==-1||this.selectedgugun==-1||this.selectedsido==-1) {\n        alert(\"시,군,동 을 전부 입력해주세요\");\n      }\n      else {\n        let paradong = null;\n        this.dong.forEach(element => {\n          if (element.value==this.selecteddong) {\n            paradong = element.text;\n          }\n        });\n        http.get(`/map.do/searchDong/${paradong}`).then(({ data }) => {\n          console.log(data);\n          this.SET_APTLIST(data.aptList);\n        });\n      }\n    }\n  },\n  computed: {\n    \n  },\n  watch: {\n    // 시도 변경될때\n    selectedsido: function () {\n      if (this.selectedsido!=-1) {\n        this.gugun = [{\n          text: \"구군선택\", value: -1\n        },];\n        http.get(`/region.do/gugun/${this.selectedsido}`).then(({ data }) => {\n          data.regions.forEach(item1 => {\n            let iitem1 = { text: item1.name, value: item1.code };\n            this.gugun.push(iitem1);\n          });\n        });\n        this.dong= [{\n          text: \"동선택\", value: -1\n        },];\n        this.selectedgugun = -1;\n        this.selecteddong = -1;\n      }\n      else {\n        this.gugun = [{\n          text: \"구군선택\", value: -1\n        },];\n        this.dong= [{\n          text: \"동선택\", value: -1\n        },];\n        this.selectedgugun = -1;\n        this.selecteddong = -1;\n      }\n    },\n    // 군 병경될때\n    selectedgugun: function () {\n      this.dong = [{\n          text: \"동선택\", value: -1\n      },];\n      http.get(`/region.do/dong/${this.selectedgugun}`).then(({ data }) => {\n        data.regions.forEach(item2 => {\n            let iitem2 = { text: item2.name, value: item2.code };\n            this.dong.push(iitem2);\n          });\n      });\n      this.selecteddong = -1;\n    }\n  },\n\n}\n</script>\n\n<style>\n\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}