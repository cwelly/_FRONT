{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport store from \"@/store\";\nVue.use(VueRouter);\nconst onlyAuthUser = async (to, from, next) => {\n  const checkUserInfo = store.getters[\"userStore/checkUserInfo\"];\n  const checkToken = store.getters[\"userStore/checkToken\"];\n  let token = sessionStorage.getItem(\"access-token\");\n  console.log(\"토큰확인 드가자\");\n  console.log(\"로그인 처리 전\", checkUserInfo, token);\n  if (checkUserInfo != null && token) {\n    console.log(\"토큰 유효성 체크하러 가자!!!!\");\n    await store.dispatch(\"userStore/getUserInfo\", token);\n  }\n  if (!checkToken || checkUserInfo === null) {\n    alert(\"로그인이 필요한 페이지입니다..\");\n    // next({ name: \"login\" });\n    router.push({\n      name: \"login\"\n    });\n  } else {\n    console.log(\"로그인 했다!!!!!!!!!!!!!.\");\n    next();\n  }\n};\nconst routes = [{\n  path: '/',\n  name: 'VueMain',\n  component: () => import('../views/VueMain.vue')\n}, {\n  path: '/about',\n  name: 'about',\n  // route level code-splitting\n  // this generates a separate chunk (about.[hash].js) for this route\n  // which is lazy-loaded when the route is visited.\n  component: () => import('../views/AboutView.vue')\n}, {\n  path: \"/user\",\n  name: \"user\",\n  component: () => import(\"@/views/VueUser\"),\n  children: [{\n    path: \"join\",\n    name: \"join\",\n    component: () => import(\"@/components/user/UserRegister\")\n  }, {\n    path: \"login\",\n    name: \"login\",\n    component: () => import(\"@/components/user/UserLogin\")\n  }, {\n    path: \"mypage\",\n    name: \"mypage\",\n    beforeEnter: onlyAuthUser,\n    component: () => import(\"@/components/user/UserMyPage\")\n  }]\n}, {\n  path: \"/map\",\n  name: \"map\",\n  component: () => import(\"@/views/VueMap\"),\n  children: [{\n    path: \"drawmap\",\n    name: \"drawmap\",\n    component: () => import(\"@/components/map/MapDrawMap\")\n  }, {\n    path: \"name\",\n    name: \"name\",\n    component: () => import(\"@/components/map/MapName\")\n  }]\n}];\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","store","use","onlyAuthUser","to","from","next","checkUserInfo","getters","checkToken","token","sessionStorage","getItem","console","log","dispatch","alert","router","push","name","routes","path","component","children","beforeEnter","mode","base","process","env","BASE_URL"],"sources":["C:/Users/hyunho/Downloads/final_vue/whereismyhome/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\n\nimport store from \"@/store\";\n\nVue.use(VueRouter)\n\nconst onlyAuthUser = async (to, from, next) => {\n  const checkUserInfo = store.getters[\"userStore/checkUserInfo\"];\n  const checkToken = store.getters[\"userStore/checkToken\"];\n  let token = sessionStorage.getItem(\"access-token\");\n  console.log(\"토큰확인 드가자\");\n  console.log(\"로그인 처리 전\", checkUserInfo, token);\n\n  if (checkUserInfo != null && token) {\n    console.log(\"토큰 유효성 체크하러 가자!!!!\");\n    await store.dispatch(\"userStore/getUserInfo\", token);\n  }\n  if (!checkToken || checkUserInfo === null) {\n    alert(\"로그인이 필요한 페이지입니다..\");\n    // next({ name: \"login\" });\n    router.push({ name: \"login\" });\n  } else {\n    console.log(\"로그인 했다!!!!!!!!!!!!!.\");\n    next();\n  }\n};\n\n\nconst routes = [\n  {\n    path: '/',\n    name: 'VueMain',\n    component: () => import( '../views/VueMain.vue')\n  },\n  {\n    path: '/about',\n    name: 'about',\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () => import( '../views/AboutView.vue')\n  },\n  {\n    path: \"/user\",\n    name: \"user\",\n    component: () => import(\"@/views/VueUser\"),\n    children: [\n      {\n        path: \"join\",\n        name: \"join\",\n        component: () => import(\"@/components/user/UserRegister\"),\n      },\n      {\n        path: \"login\",\n        name: \"login\",\n        component: () => import(\"@/components/user/UserLogin\"),\n      },\n      {\n        path: \"mypage\",\n        name: \"mypage\",\n        beforeEnter: onlyAuthUser,\n        component: () => import(\"@/components/user/UserMyPage\"),\n      },\n    ],\n  },\n  {\n    path: \"/map\",\n    name: \"map\",\n    component: () => import(\"@/views/VueMap\"),\n    children: [\n      {\n        path: \"drawmap\",\n        name: \"drawmap\",\n        component: () => import(\"@/components/map/MapDrawMap\"),\n      },\n      {\n        path: \"name\",\n        name: \"name\",\n        component: () => import(\"@/components/map/MapName\"),\n      },\n    ],\n  },\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\nexport default router\n"],"mappings":";AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,SAAS,MAAM,YAAY;AAElC,OAAOC,KAAK,MAAM,SAAS;AAE3BF,GAAG,CAACG,GAAG,CAACF,SAAS,CAAC;AAElB,MAAMG,YAAY,GAAG,OAAOC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EAC7C,MAAMC,aAAa,GAAGN,KAAK,CAACO,OAAO,CAAC,yBAAyB,CAAC;EAC9D,MAAMC,UAAU,GAAGR,KAAK,CAACO,OAAO,CAAC,sBAAsB,CAAC;EACxD,IAAIE,KAAK,GAAGC,cAAc,CAACC,OAAO,CAAC,cAAc,CAAC;EAClDC,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC;EACvBD,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEP,aAAa,EAAEG,KAAK,CAAC;EAE7C,IAAIH,aAAa,IAAI,IAAI,IAAIG,KAAK,EAAE;IAClCG,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;IACjC,MAAMb,KAAK,CAACc,QAAQ,CAAC,uBAAuB,EAAEL,KAAK,CAAC;EACtD;EACA,IAAI,CAACD,UAAU,IAAIF,aAAa,KAAK,IAAI,EAAE;IACzCS,KAAK,CAAC,mBAAmB,CAAC;IAC1B;IACAC,MAAM,CAACC,IAAI,CAAC;MAAEC,IAAI,EAAE;IAAQ,CAAC,CAAC;EAChC,CAAC,MAAM;IACLN,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC;IACnCR,IAAI,EAAE;EACR;AACF,CAAC;AAGD,MAAMc,MAAM,GAAG,CACb;EACEC,IAAI,EAAE,GAAG;EACTF,IAAI,EAAE,SAAS;EACfG,SAAS,EAAE,MAAM,MAAM,CAAE,sBAAsB;AACjD,CAAC,EACD;EACED,IAAI,EAAE,QAAQ;EACdF,IAAI,EAAE,OAAO;EACb;EACA;EACA;EACAG,SAAS,EAAE,MAAM,MAAM,CAAE,wBAAwB;AACnD,CAAC,EACD;EACED,IAAI,EAAE,OAAO;EACbF,IAAI,EAAE,MAAM;EACZG,SAAS,EAAE,MAAM,MAAM,CAAC,iBAAiB,CAAC;EAC1CC,QAAQ,EAAE,CACR;IACEF,IAAI,EAAE,MAAM;IACZF,IAAI,EAAE,MAAM;IACZG,SAAS,EAAE,MAAM,MAAM,CAAC,gCAAgC;EAC1D,CAAC,EACD;IACED,IAAI,EAAE,OAAO;IACbF,IAAI,EAAE,OAAO;IACbG,SAAS,EAAE,MAAM,MAAM,CAAC,6BAA6B;EACvD,CAAC,EACD;IACED,IAAI,EAAE,QAAQ;IACdF,IAAI,EAAE,QAAQ;IACdK,WAAW,EAAErB,YAAY;IACzBmB,SAAS,EAAE,MAAM,MAAM,CAAC,8BAA8B;EACxD,CAAC;AAEL,CAAC,EACD;EACED,IAAI,EAAE,MAAM;EACZF,IAAI,EAAE,KAAK;EACXG,SAAS,EAAE,MAAM,MAAM,CAAC,gBAAgB,CAAC;EACzCC,QAAQ,EAAE,CACR;IACEF,IAAI,EAAE,SAAS;IACfF,IAAI,EAAE,SAAS;IACfG,SAAS,EAAE,MAAM,MAAM,CAAC,6BAA6B;EACvD,CAAC,EACD;IACED,IAAI,EAAE,MAAM;IACZF,IAAI,EAAE,MAAM;IACZG,SAAS,EAAE,MAAM,MAAM,CAAC,0BAA0B;EACpD,CAAC;AAEL,CAAC,CACF;AAED,MAAML,MAAM,GAAG,IAAIjB,SAAS,CAAC;EAC3ByB,IAAI,EAAE,SAAS;EACfC,IAAI,EAAEC,OAAO,CAACC,GAAG,CAACC,QAAQ;EAC1BT;AACF,CAAC,CAAC;AAEF,eAAeH,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}